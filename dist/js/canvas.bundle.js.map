{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Ball.js","webpack:///./src/js/CollisionInfo.js","webpack:///./src/js/Engine.js","webpack:///./src/js/Player.js","webpack:///./src/js/Rectangle.js","webpack:///./src/js/StickBox.js","webpack:///./src/js/Vec2.js","webpack:///./src/js/canvas.js","webpack:///./src/js/utils.js"],"names":["gravity","friction","Ball","x","y","dx","dy","radius","color","placeHolder","velocity","Vec2","mass","balls","rectArray","coll","i","length","prev","distance","ballToBallCollision","rect","rectCircleCollision","circleRectCollisionResponse","innerWidth","innerHeight","draw","c","beginPath","arc","Math","PI","strokeStyle","stroke","closePath","CollisionInfo","mDepth","mNormal","mStart","mEnd","s","d","n","add","scale","playerRectCollision","player","center","height","width","circle","distX","abs","distY","ball","otherBall","xVelocityDiff","yVelocityDiff","xDist","yDist","angle","atan2","m1","m2","u1","rotate","u2","v1","v2","vFinal1","vFinal2","rotatedVelocities","cos","sin","Player","moving","left","right","up","jumping","vertexes","key","value","ballArray","canvas","init","console","log","fill","lineWidth","Rectangle","faceNormal","subtract","normalize","kFPS","kFrameTime","mUpdateIntervalInSeconds","v","save","translate","strokeRect","restore","bounce","StickBox","points","sticks","create","updatePoints","constrainPoints","updateSticks","renderPoints","renderSticks","cratePoint","creatStick","p1","p2","push","p0","xCor","yCor","oldx","random","oldy","sqrt","p","vx","vy","difference","percent","offsetX","offsetY","moveTo","lineTo","vec","len","r","document","querySelector","getContext","charInput","line","mouse","Line","toX","toY","colors","addEventListener","event","placeH","clientY","clientX","controll","extra","stickyBox","utils","randomIntFromRange","j","x1","y1","x2","y2","pow","animate","requestAnimationFrame","clearRect","forEach","update","li","min","max","floor","randomColor","module","exports"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/canvas.js\");\n","import { distance, c, canvas } from './canvas';\r\nimport { ballToBallCollision, rectCircleCollision, circleRectCollisionResponse } from './Engine';\r\nimport { Vec2 } from './Vec2';\r\n\r\nvar gravity = 0.2;\r\nvar friction = 0.7;\r\n\r\nexport class Ball {\r\n\tconstructor(x, y, dx, dy, radius, color, placeHolder) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.velocity = new Vec2(dx, dy);\r\n\t\tthis.radius = radius;\r\n\t\tthis.color = color;\r\n\t\tthis.mass = 1;\r\n\t\tthis.placeHolder = placeHolder;\r\n\t}\r\n\r\n\r\n\tupdate(balls, rectArray) {\r\n\t\tif (!this.placeHolder) {\r\n\t\t\tlet coll = false;\r\n\t\t\tfor (let i = 0; i < balls.length; i++) {\r\n\t\t\t\tif (this === balls[i] || balls[i].placeHolder) continue;\r\n\t\t\t\tconst prev = balls[i];\r\n\t\t\t\tif (distance(this.x + this.velocity.x, this.y + this.velocity.y, prev.x, prev.y) - this.radius * 2  < 0) {\r\n\t\t\t\t\tballToBallCollision(this, balls[i]);\r\n\t\t\t\t\tcoll = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor(let rect of rectArray) {\r\n\t\t\t\tif (rectCircleCollision(rect, this)) {\r\n\t\t\t\t\tcircleRectCollisionResponse(rect, this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.x - this.radius <= 0 || this.x + this.radius >= innerWidth) {\r\n\t\t\t\tthis.velocity.x = - this.velocity.x;\r\n\t\t\t}\r\n\t\t\tif ((this.y - this.radius) + this.velocity.y <= 0 || (this.y + this.radius) + this.velocity.y >= innerHeight) {\r\n\t\t\t\tthis.velocity.y = - this.velocity.y;\r\n\t\t\t\tthis.velocity.y = this.velocity.y * friction;\r\n\t\t\t\tthis.velocity.x = this.velocity.x * friction;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (!coll) {\r\n\t\t\t\t\tthis.velocity.y += gravity;\r\n\t\t\t\t} else {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.x += this.velocity.x;\r\n\t\t\tthis.y += this.velocity.y;\r\n\t\t}\r\n\r\n\t\tthis.draw();\r\n\t};\r\n\r\n\tdraw() {\r\n\t\tc.beginPath();\r\n\t\tc.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\t\r\n\t\tc.strokeStyle = this.color;\r\n\t\tc.stroke();\r\n\t\tc.closePath();\r\n\t};\r\n}\r\n","import { Vec2 } from \"./Vec2\";\r\n\r\nexport class CollisionInfo {\r\n\tconstructor() {\r\n\t\tthis.mDepth = 0;\r\n\t\tthis.mNormal = new Vec2(0, 0);\r\n\t\tthis.mStart = new Vec2(0, 0);\r\n\t\tthis.mEnd = new Vec2(0, 0);\r\n\t}\r\n\t\r\n\tsetDepth(s) {\r\n\t\tthis.mDepth = s;\r\n\t};\r\n\r\n\tsetNormal(s) {\r\n\t\tthis.mNormal = s;\r\n\t};\r\n\r\n\tgetDepth() {\r\n\t\treturn this.mDepth;\r\n\t};\r\n\r\n\tgetNormal() {\r\n\t\treturn this.mNormal;\r\n\t};\r\n\r\n\tsetInfo(d, n, s) {\r\n\t\tthis.mDepth = d;\r\n\t\tthis.mNormal = n;\r\n\t\tthis.mStart = s;\r\n\t\tthis.mEnd = s.add(n.scale(d));\r\n\t};\r\n\r\n\tchangeDir() {\r\n\t\tthis.mNormal = this.mNormal.scale(-1);\r\n\t\tvar n = this.mStart;\r\n\t\tthis.mStart = this.mEnd;\r\n\t\tthis.mEnd = n;\r\n\t};\r\n}","import { Vec2 } from \"./Vec2\";\r\n\r\n\r\nexport const playerRectCollision = (player, rect) => {\r\n\tif (player.velocity.y >= 0\r\n\t\t&&player.center.y + player.height + player.velocity.y >= rect.center.y - rect.height / 2\r\n\t\t&& player.center.y - player.height <= rect.center.y\r\n\t\t&& player.center.x <= rect.center.x + rect.width - player.width\r\n\t\t&& player.center.x + player.width >= rect.center.x) {\r\n\t\t\tplayer.center.y = rect.center.y - player.height - rect.height / 2;\r\n\t\t\tplayer.velocity.y = 0;\r\n\t}\r\n} \r\n\r\nexport const rectCircleCollision = (player, circle) => {\r\n\tconst distX = Math.abs(circle.x - player.center.x - player.width / 2);\r\n\tconst distY = Math.abs(circle.y - player.center.y - player.height / 2);\r\n\r\n\tif (distX > (player.width / 2 + circle.radius)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (distY > (player.height / 2 + circle.radius)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (distX <= (player.width / 2)) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tif (distY <= (player.height / 2)) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst dx = distX - player.width / 2;\r\n\tconst dy = distY - player.height / 2;\r\n\treturn (dx*dx+dy*dy <= (circle.radius*circle.radius));\r\n}\r\n\r\nexport const circleRectCollisionResponse = (rect, circle) => {\r\n\t\r\n}\r\n\r\nexport const ballToBallCollision = (ball, otherBall) => {\r\n    const xVelocityDiff = ball.velocity.x - otherBall.velocity.x;\r\n    const yVelocityDiff = ball.velocity.y - otherBall.velocity.y;\r\n\r\n    const xDist = otherBall.x - ball.x;\r\n    const yDist = otherBall.y - ball.y;\r\n\r\n    // Prevent accidental overlap of particles\r\n    if (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\r\n\r\n        // Grab angle between the two colliding particles\r\n        const angle = -Math.atan2(otherBall.y - ball.y, otherBall.x - ball.x);\r\n\r\n        // Store mass in var for better readability in collision equation\r\n        const m1 = ball.mass;\r\n        const m2 = otherBall.mass;\r\n\r\n        // Velocity before equation\r\n        const u1 = rotate(ball.velocity, angle);\r\n        const u2 = rotate(otherBall.velocity, angle);\r\n\r\n        // Velocity after 1d collision equation\r\n        const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\r\n        const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\r\n\r\n        // Final velocity after rotating axis back to original location\r\n        const vFinal1 = rotate(v1, -angle);\r\n        const vFinal2 = rotate(v2, -angle);\r\n\r\n        // Swap particle velocities for realistic bounce effect\r\n        ball.velocity.x = vFinal1.x;\r\n        ball.velocity.y = vFinal1.y;\r\n\r\n        otherBall.velocity.x = vFinal2.x;\r\n        otherBall.velocity.y = vFinal2.y;\r\n    }\r\n}\r\n\r\nconst rotate = (velocity, angle) => {\r\n    const rotatedVelocities = {\r\n        x: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\r\n        y: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\r\n    };\r\n\r\n    return rotatedVelocities;\r\n}\r\n\r\n","import { Vec2 } from \"./Vec2\";\r\nimport { c, canvas, init } from './canvas';\r\nimport { playerRectCollision, rectCircleCollision } from \"./Engine\";\r\n\r\nvar gravity = 1.5;\r\nvar friction = 0.4;\r\n\r\nexport class Player {\r\n\tconstructor(center, width, height, velocity, color, angle) {\r\n\t\tthis.moving = {\r\n\t\t\tleft: false,\r\n\t\t\tright: false,\r\n\t\t\tup: false\r\n\t\t};\r\n\t\tthis.jumping = false;\r\n\t\tthis.center = center;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.angle = angle;\r\n\t\tthis.velocity = velocity;\r\n\t\tthis.mass = 1;\r\n\t\tthis.color = color;\r\n\t\tthis.vertexes = [\r\n\t\t\tnew Vec2(center.x - height / 2, center.y - height / 2),\r\n\t\t\tnew Vec2(center.x + height / 2, center.y - height / 2),\r\n\t\t\tnew Vec2(center.x + height / 2, center.y + height / 2),\r\n\t\t\tnew Vec2(center.x - height / 2, center.y + height / 2),\r\n\t\t];\r\n\t}\r\n\r\n\tcontroll(key, value) {\r\n\t\tif (key === 'a') {\r\n\t\t\tthis.moving.left = value\r\n\t\t} else if (key === 'd') {\r\n\t\t\tthis.moving.right = value;\r\n\t\t} else if (key === ' ' || key === 'w') {\r\n\t\t\tthis.moving.up = value;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate(rectArray, ballArray) {\r\n\t\tthis.velocity.y += gravity;\r\n\t\tthis.velocity.x *= 0.9;\r\n\r\n\t\t// Check if player died\r\n\t\tif (this.center.y >= canvas.height) {\r\n\t\t\tinit();\r\n\t\t}\r\n\r\n\t\tif (rectArray) {\r\n\t\t\tfor (let rect of rectArray) {\r\n\t\t\t\tif (this.velocity.y >= 0) {\r\n\t\t\t\t\tplayerRectCollision(this, rect);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (ballArray) {\r\n\t\t\tfor (let circle of ballArray) {\r\n\t\t\t\tif (rectCircleCollision(this, circle)) {\r\n\t\t\t\t\tconsole.log('collision');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.center.x - (this.width / 2) + this.velocity.x <= 0 || this.center.x + (this.width / 2) + this.velocity.x >= innerWidth) {\r\n\t\t\tthis.velocity.x = - this.velocity.x;\r\n\t\t\tthis.velocity.x = this.velocity.x * friction;\r\n\t\t}\r\n\t\tif (this.moving.left) {\r\n\t\t\tthis.velocity.x -= 1;\r\n\t\t} else if (this.moving.right) {\r\n\t\t\tthis.velocity.x += 1;\r\n\t\t} else if (this.moving.up) {\r\n\t\t\tthis.velocity.y = -20;\r\n\t\t}\r\n\r\n\t\tthis.center.x += this.velocity.x;\r\n\t\tthis.center.y += this.velocity.y;\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tc.beginPath();\r\n\t\tc.rect(this.center.x, this.center.y, this.width, this.height);\r\n\t\tc.fill();\r\n\t\tc.strokeStyle = \"blue\";\r\n\t\tc.lineWidth = 4;\r\n\t\tc.stroke();\r\n\t}\r\n}\r\n","import { Vec2 } from \"./Vec2\";\r\nimport { c, canvas } from './canvas';\r\nimport { CollisionInfo } from \"./CollisionInfo\";\r\n// import { CollisionInfo } from \"./CollisionInfo\";\r\n\r\nvar gravity = 0.2;\r\nvar friction = 0.9;\r\n\r\nexport class Rectangle {\r\n\tconstructor(center, width, height, velocity, color, angle) {\r\n\t\tthis.center = center;\r\n\t\tthis.x = center.x;\r\n\t\tthis.y = center.y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.angle = angle;\r\n\t\tthis.velocity = velocity;\r\n\t\tthis.mass = 1;\r\n\t\tthis.color = color;\r\n\t\tthis.vertexes = [\r\n\t\t\tnew Vec2(center.x - height / 2, center.y - height / 2),\r\n\t\t\tnew Vec2(center.x + height / 2, center.y - height / 2),\r\n\t\t\tnew Vec2(center.x + height / 2, center.y + height / 2),\r\n\t\t\tnew Vec2(center.x - height / 2, center.y + height / 2),\r\n\t\t];\r\n\t\tthis.faceNormal = []\r\n\t\tthis.faceNormal[0] = this.vertexes[1].subtract(this.vertexes[2]);\r\n\t\tthis.faceNormal[0] = this.faceNormal[0].normalize();\r\n\t\tthis.faceNormal[1] = this.vertexes[2].subtract(this.vertexes[3]);\r\n\t\tthis.faceNormal[1] = this.faceNormal[1].normalize();\r\n\t\tthis.faceNormal[2] = this.vertexes[3].subtract(this.vertexes[0]);\r\n\t\tthis.faceNormal[2] = this.faceNormal[2].normalize();\r\n\t\tthis.faceNormal[3] = this.vertexes[0].subtract(this.vertexes[1]);\r\n\t\tthis.faceNormal[3] = this.faceNormal[3].normalize();\r\n\t\tthis.kFPS = 60;          // Frames per second\r\n\t\tthis.kFrameTime = 1 / this.kFPS;\r\n\t\tthis.mUpdateIntervalInSeconds = this.kFrameTime;\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\tmove(v) {\r\n\t\tfor (var i = 0; i < this.vertexes.length; i++) {\r\n\t\t\tthis.vertexes[i] = this.vertexes[i].add(v);\r\n\t\t}\r\n\t\tthis.center = this.center.add(v);\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tc.save();\r\n\t\tc.translate(this.vertexes[0].x, this.vertexes[0].y);\r\n\t\tc.rotate(this.angle);\r\n\t\tc.strokeStyle = this.color;\r\n\t\tc.strokeRect(0, 0, this.width, this.height);\r\n\t\tc.restore();\r\n\t}\r\n};\r\n","import {c, canvas} from './canvas';\r\n\r\nconst gravity = 1.5;\r\nconst bounce = 0.9;\r\nconst friction = 0.9;\r\n\r\nexport class StickBox {\r\n\tconstructor(x, y, width, height) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.points = [];\r\n\t\tthis.sticks = [];\r\n\t\tthis.create();\r\n\t};\r\n\r\n\tupdate() {\r\n\t\tthis.updatePoints();\r\n\t\t\tthis.constrainPoints();\r\n\t\t// for(var i = 0; i < 5; i++) {\r\n\t\t\tthis.updateSticks();\r\n\t\t// }\r\n\t\tthis.renderPoints();\r\n\t\tthis.renderSticks();\r\n\t}\r\n\r\n\tcreate() {\r\n\t\tthis.cratePoint(this.x, this.y);\r\n\t\tthis.cratePoint(this.x + this.width, this.y);\r\n\t\tthis.cratePoint(this.x + this.width, this.y + this.height);\r\n\t\tthis.cratePoint(this.x, this.y + this.height);\r\n\r\n\t\tthis.creatStick(0, 1);\r\n\t\tthis.creatStick(1, 2);\r\n\t\tthis.creatStick(2, 3);\r\n\t\tthis.creatStick(3, 0);\r\n\t\tthis.creatStick(0, 2);\r\n\t\tthis.creatStick(1, 3);\r\n\t\tconsole.log(this.sticks.length, this.points);\r\n\t}\r\n\r\n\tcreatStick(p1, p2) {\r\n\t\tthis.sticks.push({\r\n\t\t\tp0: this.points[p1],\r\n\t\t\tp1: this.points[p2],\r\n\t\t\tlength: this.distance(this.points[p1], this.points[p2])\r\n\t\t});\r\n\t}\r\n\r\n\tcratePoint(xCor, yCor) {\r\n\t\tconsole.log(xCor,yCor);\r\n\t\tthis.points.push({\r\n\t\t\tx: xCor,\r\n\t\t\ty: yCor,\r\n\t\t\toldx: xCor + Math.random() * 30 - 15,\r\n\t\t\toldy: yCor + Math.random() * 30 - 15\r\n\t\t});\r\n\t}\r\n\r\n\tdistance(p0, p1) {\r\n\t\tvar dx = p1.x - p0.x,\r\n\t\t\tdy = p1.y - p0.y;\r\n\t\treturn Math.sqrt(dx * dx + dy * dy);\r\n\t}\r\n\r\n\tupdatePoints() {\r\n\t\tfor(var i = 0; i < this.points.length; i++) {\r\n\t\t\tvar p = this.points[i];\r\n\t\t\tvar vx = (p.x - p.oldx) * friction;\r\n\t\t\tvar vy = (p.y - p.oldy) * friction;\r\n\r\n\t\t\tp.oldx = p.x;\r\n\t\t\tp.oldy = p.y;\r\n\t\t\tp.x += vx;\r\n\t\t\tp.y += vy;\r\n\t\t\tp.y += gravity;\r\n\t\t}\r\n\t}\r\n\r\n\tconstrainPoints() {\r\n\t\tfor(var i = 0; i < this.points.length; i++) {\r\n\t\t\tvar p = this.points[i],\r\n\t\t\t\tvx = (p.x - p.oldx) * friction,\r\n\t\t\t\tvy = (p.y - p.oldy) * friction;\r\n\r\n\t\t\tif(p.x > canvas.width) {\r\n\t\t\t\tp.x = canvas.width;\r\n\t\t\t\tp.oldx = p.x + vx * bounce;\r\n\t\t\t}\r\n\t\t\telse if(p.x < 0) {\r\n\t\t\t\tp.x = 0;\r\n\t\t\t\tp.oldx = p.x + vx * bounce;\r\n\t\t\t}\r\n\t\t\tif(p.y > canvas.height) {\r\n\t\t\t\tp.y = canvas.height;\r\n\t\t\t\tp.oldy = p.y + vy * bounce;\r\n\t\t\t}\r\n\t\t\telse if(p.y < 0) {\r\n\t\t\t\tp.y = 0;\r\n\t\t\t\tp.oldy = p.y + vy * bounce;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateSticks() {\r\n\t\tfor(var i = 0; i < this.sticks.length; i++) {\r\n\t\t\tvar s = this.sticks[i],\r\n\t\t\t\tdx = s.p1.x - s.p0.x,\r\n\t\t\t\tdy = s.p1.y - s.p0.y,\r\n\t\t\t\tdistance = Math.sqrt(dx * dx + dy * dy),\r\n\t\t\t\tdifference = s.length - distance,\r\n\t\t\t\tpercent = difference / distance / 2,\r\n\t\t\t\toffsetX = dx * percent,\r\n\t\t\t\toffsetY = dy * percent;\r\n\r\n\t\t\ts.p0.x -= offsetX;\r\n\t\t\ts.p0.y -= offsetY;\r\n\t\t\ts.p1.x += offsetX;\r\n\t\t\ts.p1.y += offsetY;\r\n\t\t}\r\n\t}\r\n\r\n\trenderPoints() {\r\n\t\tfor(var i = 0; i < this.points.length; i++) {\r\n\t\t\tvar p = this.points[i];\r\n\t\t\tc.beginPath();\r\n\t\t\tc.arc(p.x, p.y, 5, 0, Math.PI * 2);\r\n\t\t\tc.fill();\r\n\t\t}\r\n\t}\r\n\r\n\trenderSticks() {\r\n\t\tc.beginPath();\r\n\t\tfor(var i = 0; i < this.sticks.length; i++) {\r\n\t\t\tvar s = this.sticks[i];\r\n\t\t\tc.moveTo(s.p0.x, s.p0.y);\r\n\t\t\tc.lineTo(s.p1.x, s.p1.y);\r\n\t\t}\r\n\t\tc.stroke();\r\n\t}\r\n}","\r\nexport class Vec2 {\r\n\tconstructor(x, y) {\r\n\t\tthis.x = x; \r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tlength() {\r\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\r\n\t};\r\n\t\r\n\tadd(vec) {\r\n\t\treturn new Vec2(vec.x + this.x, vec.y + this.y);\r\n\t};\r\n\r\n\tsubtract(vec) {\r\n\t\treturn new Vec2(this.x - vec.x, this.y - vec.y);\r\n\t};\r\n\t\r\n\tscale(n) {\r\n\t\treturn new Vec2(this.x * n, this.y * n);\r\n\t};\r\n\t\r\n\tdot(vec) {\r\n\t\treturn (this.x * vec.x + this.y * vec.y);\r\n\t};\r\n\t\r\n\tcross(vec) {\r\n\t\treturn (this.x * vec.y - this.y * vec.x);\r\n\t};\r\n\t\r\n\tnormalize() {\r\n\t\tvar len = this.length();\r\n\t\tif (len > 0) {\r\n\t\t\tlen = 1 / len;\r\n\t\t}\r\n\t\treturn new Vec2(this.x * len, this.y * len);\r\n\t};\r\n\t\r\n\trotate(center, angle) {\r\n\t\t//rotate in counterclockwise\r\n\t\tvar r = [];\r\n\t\r\n\t\tvar x = this.x - center.x;\r\n\t\tvar y = this.y - center.y;\r\n\t\r\n\t\tr[0] = x * Math.cos(angle) - y * Math.sin(angle);\r\n\t\tr[1] = x * Math.sin(angle) + y * Math.cos(angle);\r\n\t\r\n\t\tr[0] += center.x;\r\n\t\tr[1] += center.y;\r\n\t\r\n\t\treturn new Vec2(r[0], r[1]);\r\n\t};\r\n\r\n\tdistance(vec) {\r\n\t\tvar x = this.x - vec.x;\r\n\t\tvar y = this.y - vec.y;\r\n\t\treturn Math.sqrt(x * x + y * y);\r\n\t};\r\n\t\r\n}","import utils from './utils';\r\nimport {Ball} from './Ball';\r\nimport { Rectangle } from './Rectangle';\r\nimport { Vec2 } from './Vec2';\r\nimport { Player } from './Player';\r\nimport { StickBox } from './StickBox';\r\n\r\nexport const canvas = document.querySelector('canvas');\r\nexport const c = canvas.getContext('2d');\r\n\r\ncanvas.width = innerWidth\r\ncanvas.height = innerHeight\r\n\r\nlet charInput = false;\r\nlet moving = false;\r\nlet line = [];\r\nconst mouse = {\r\n  x: innerWidth / 2,\r\n  y: innerHeight / 2\r\n}\r\n\r\n/** PlaceHolder line for shooting directions */\r\nclass Line {\r\n  constructor(x, y, toX, toY) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.toX = toX;\r\n    this.toY = toY;\r\n  }\r\n\r\n  update() {\r\n    this.draw();\r\n  }\r\n\r\n  draw() {\r\n    c.beginPath();\r\n    c.moveTo(this.x, this.y);\r\n    c.lineTo(mouse.x, mouse.y);\r\n    c.stroke();\r\n    c.strokeStyle = 'black';\r\n  }\r\n}\r\n\r\nconst colors = ['#2185C5', '#7ECEFD', '#FFF6E5', '#FF7F66']\r\n\r\n// Event Listeners\r\naddEventListener('mousemove', (event) => {\r\n  if (moving) {\r\n    placeH.center.y = event.clientY;\r\n    placeH.center.x = event.clientX; \r\n  }\r\n});\r\n\r\naddEventListener('keydown', (event) => {\r\n  player.controll(event.key, true);\r\n});\r\n\r\naddEventListener('keyup', (event) => {\r\n  player.controll(event.key, false);\r\n});\r\n\r\n\r\n\r\naddEventListener('resize', () => {\r\n  canvas.width = innerWidth\r\n  canvas.height = innerHeight\r\n  init()\r\n});\r\n\r\nlet placeH = null;\r\nlet extra = {\r\n  x: null,\r\n  y: null,\r\n  width: null,\r\n  height: null,\r\n}\r\n\r\naddEventListener('mousedown', (event) => {\r\n  mouse.x = event.clientX;\r\n  mouse.y = event.clientY;\r\n  placeH = new Rectangle(new Vec2(mouse.x, mouse.y), 100, 20, 0, 'green', 0);\r\n  moving = true;\r\n})\r\n\r\naddEventListener('mouseup', (event) => {\r\n  moving = false;\r\n  rectArray.push(placeH);\r\n  placeH = null;\r\n})\r\n\r\n\r\n\r\n\r\n// Implementation\r\nvar ballArray = [];\r\nvar rectArray = [];\r\nlet player = null;\r\nlet stickyBox = null;\r\nexport function init() {\r\n  ballArray = [];\r\n  stickyBox = new StickBox(100, 100, 100, 100);\r\n  player = new Player(new Vec2(canvas.width / 2, canvas.height / 2), 20, 20, new Vec2(0, 0), 'blue', 0);\r\n  rectArray.push(new Rectangle(new Vec2(canvas.width / 2, canvas.height - 50), 100, 20, new Vec2(0, 0), 'green', 0))\r\n  rectArray.push(new Rectangle(new Vec2(canvas.width / 2 + 100, canvas.height - 150), 100, 20, new Vec2(0, 0), 'green', 0))\r\n\tfor (let i = 0; i < 7; i++) {\r\n\t\tvar radius = 30;\r\n\t\tvar x = utils.randomIntFromRange(radius, canvas.width - radius)\r\n\t\tvar y = utils.randomIntFromRange(radius, canvas.height - radius)\r\n\t\tvar dx = utils.randomIntFromRange(-3, 3)\r\n\t\tvar dy = utils.randomIntFromRange(-2, 2)\r\n    \r\n    if ( i !== 0) {\r\n      for (let j = 0; j < ballArray.length; j++) {\r\n          const prev = ballArray[j];\r\n          if((distance(x, y, prev.x, prev.y) - (radius * 2))  < 0) {\r\n            var x = utils.randomIntFromRange(radius, canvas.width - radius);\r\n            var y = utils.randomIntFromRange(radius, canvas.height - radius);\r\n            \r\n            j = -1;\r\n          }\r\n      }\r\n    } \r\n\r\n    ballArray.push(new Ball(x, y, dx, dy, radius, 'blue', false));\r\n\t}\r\n}\r\n\r\nexport function distance(x1, y1, x2, y2) {\r\n  const xDist = x2 - x1;\r\n  const yDist = y2 - y1;\r\n  return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\r\n}\r\n\r\n// Animation Loop\r\nfunction animate() {\r\n  requestAnimationFrame(animate)\r\n  c.clearRect(0, 0, canvas.width, canvas.height)\r\n  \r\n  ballArray.forEach(ball => {\r\n   ball.update(ballArray, rectArray);\r\n  });\r\n\r\n  if (line) {\r\n    line.forEach(li => {\r\n      li.update();\r\n    })\r\n  }\r\n  rectArray.forEach((rect) => {\r\n    rect.update();\r\n  })\r\n  \r\n  player.update(rectArray, ballArray);\r\n  stickyBox.update();\r\n\r\n  if (placeH) {\r\n    placeH.update();\r\n  }\r\n}\r\n\r\n\r\ninit()\r\nanimate()\r\n","function randomIntFromRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\nfunction randomColor(colors) {\n  return colors[Math.floor(Math.random() * colors.length)]\n}\n\nfunction distance(x1, y1, x2, y2) {\n  const xDist = x2 - x1\n  const yDist = y2 - y1\n\n  return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2))\n}\n\nmodule.exports = { randomIntFromRange, randomColor, distance }\n"],"sourceRoot":""}